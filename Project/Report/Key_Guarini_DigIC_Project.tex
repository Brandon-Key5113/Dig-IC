\documentclass[11pt]{article}
\usepackage[margin=1.0in]{geometry}
\usepackage{lastpage}
\usepackage{mathtools}
\usepackage{graphicx}
\usepackage{float}
\usepackage[font=small]{caption}
\usepackage{color}
\usepackage{fancyhdr}
%\usepackage{soul} %for striking out text
%\usepackage{arydshln} % for dotted line on truth table
\usepackage{tikz} % graphics stuff
\usepackage{caption}
\usepackage{gensymb}
\usepackage{booktabs}
\usepackage{listings}
\usepackage{fancyvrb}
%\usepackage{subcaption} % used to horizontally tile figures
%\usepackage{listings}
\pagestyle{fancy}
\fancyhead{}
\fancyfoot{}


\newcommand{\ClassNameS}{CMPE-630}
\newcommand{\ClassNameL}{Digital Integrated Circuit Design}
\newcommand{\ExerciseName}{Final Project}
\newcommand{\SubTitle}{Multiply and Accumulate (MAC) Datapath Unit Design}
\newcommand{\Arthur}{Brandon Key \& Chris Guarini}
\newcommand{\DueDate}{9 Dec 2019}

\fancyhead[L]{\ClassNameS}
\fancyhead[R]{\ExerciseName}

\fancyfoot[L]{\Arthur}
\fancyfoot[C]{\DueDate}
\fancyfoot[R]{\thepage \space of \pageref{LastPage}}

\setlength{\parindent}{0em}
\setlength{\parskip}{1em}

\linespread{1.0}
% where value determine line spacing.
% 1.0	single spacing
% 1.3	one-and-a-half spacing
% 1.6	double spacing

\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}

\lstset{ 
	backgroundcolor=\color{white},   % choose the background color; you must add \usepackage{color} or \usepackage{xcolor}; should come as last argument
	basicstyle=\footnotesize,        % the size of the fonts that are used for the code
	breakatwhitespace=false,         % sets if automatic breaks should only happen at whitespace
	breaklines=true,                 % sets automatic line breaking
	captionpos=t,                    % sets the caption-position to bottom
	commentstyle=\color{mygreen},    % comment style
	deletekeywords={},               % if you want to delete keywords from the given language
	escapeinside={\%*}{*)},          % if you want to add LaTeX within your code
	extendedchars=false,             % lets you use non-ASCII characters; for 8-bits encodings only, does not work with UTF-8
	firstnumber=0,                   % start line enumeration with line 1000
	frame=single,                    % adds a frame around the code
	keepspaces=true,                 % keeps spaces in text, useful for keeping indentation of code (possibly needs columns=flexible)
	keywordstyle=\color{blue},       % keyword style
	language=VHDL,                   % the language of the code
	morekeywords={},                 % if you want to add more keywords to the set
	numbers=left,                    % where to put the line-numbers; possible values are (none, left, right)
	numbersep=5pt,                   % how far the line-numbers are from the code
	numberstyle=\tiny\color{mygray}, % the style that is used for the line-numbers
	rulecolor=\color{black},         % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. comments (green here))
	showspaces=false,                % show spaces everywhere adding particular underscores; it overrides 'showstringspaces'
	showstringspaces=false,          % underline spaces within strings only
	showtabs=false,                  % show tabs within strings adding particular underscores
	stepnumber=5,                    % the step between two line-numbers. If it's 1, each line will be numbered
	stringstyle=\color{mymauve},     % string literal style
	tabsize=4, 	                     % sets default tabsize to 2 spaces
	title=\lstname                   % show the filename of files included with \lstinputlisting; also try caption instead of title
}

\begin{document}\thispagestyle{empty}

%
% cover page
%

\vspace*{2 cm}

\begin{center}
\bf{\ClassNameS \space \ClassNameL\\
    \ExerciseName\\
\vspace{0.25 cm}
\SubTitle
}
\end{center}

\vspace{4 cm}

\begin{flushright}
Brandon Key\\
Chris Guarini\\
Performed: 9 Dec 2019\\
Submitted: \DueDate\\
\vspace{0.5 cm}
Instructor: Dr. Amlan Ganguly\\
TAs: Abhishek Vashist\\
Andrew Fountain\\
Piers Kwan\\
\vspace{0.5 cm}
\end{flushright}

\vspace{3 cm}
\indent By submitting this report, you attest that you neither have given nor have received any assistance (including writing, collecting data, plotting figures, tables or graphs, or using previous student reports as a reference), and you further acknowledge that giving or receiving such assistance will result in a failing grade for this course.

\vspace{1 cm}
Your Signature:   \rule{13cm}{.1pt}

\newpage
\tableofcontents
\newpage

\section{Abstract}

	
	

\section{Design Methodology and Theory}

	A cornerstone of IC design is the ability to create large, complex designs from smaller more manageable parts. The project outlined in this exercise calls for the design, testing and layout of a multiply and accumulate (MAC) unit, which takes two 16-bit inputs, multiplies them together, adds them to the value stored in a register, and then stores that output back into the register. The final component should contain a built in self test (BIST) that verifies the functionality of the MAC.
	
	The MAC is composed of a carry-save multiplier, ripple carry full-adder, and parallel register. The BIST is implemented through the use of an LFSR for the inputs, an MISR for the output, and a test controller which controls the timing and sets the test passed and test complete outputs. A full diagram of the MAC with BIST can be seen below in Figure \ref{fig:full-project-block}.
	
	\begin{figure}[H]
		\centering
		\includegraphics[width=0.7\linewidth]{Pictures/Full-Project-Block}
		\caption{High Level Block Diagram of the MAC with BIST.}
		\label{fig:full-project-block}
	\end{figure}


	\subsection{User Operation}
		//TODO Chris, talk about how to use this and go into test mode
	

	\subsection{Adder}
	
		The adder used in this design was 32 bits wide to accept input form the multiplier and the accumulation register. 
	
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/nBitAdder Schematic Page 1"}
			\caption{nBitAdder Schematic Page 1} 
			\label{fig:nBitAdder-Schematic-Page-1} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/nBitAdder Schematic Page 2"}
			\caption{nBitAdder Schematic Page 2} 
			\label{fig:nBitAdder-Schematic-Page-2} 
		\end{figure}
	
	\subsection{Multiplier}
	
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Multiplier Schematic Page 1"}
			\caption{Multiplier Schematic Page 1} 
			\label{fig:Multiplier-Schematic-Page-1} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Multiplier Schematic Page 2"}
			\caption{Multiplier Schematic Page 2} 
			\label{fig:Multiplier-Schematic-Page-2} 
		\end{figure}
	
	\subsection{16-Bit Register}

		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/nBitRegister 16-Bit Schematic"}
			\caption{16 Bit Register Schematic} 
			\label{fig:nBitRegister-16-Bit-Schematic} 
		\end{figure}

	\subsection{32-Bit Register}
	
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/nBitRegister 32-Bit Schematic"}
			\caption{32 Bit Register Schematic} 
			\label{fig:nBitRegister-32-Bit-Schematic} 
		\end{figure}
	
	\subsection{MAC}
	
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/MAC-block"}
			\caption{MAC block} 
			\label{fig:MAC-block} 
		\end{figure}
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/MAC-16bit-Test-Bench"}
			\caption{MAC 16bit Test Bench} 
			\label{fig:MAC-16bit-Test-Bench} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/MAC-Test-Bench"}
			\caption{MAC Test Bench} 
			\label{fig:MAC-Test-Bench} 
		\end{figure}
	
	
	\subsection{Mux}
		The multiplexer was used to change the input from the user input to the 
	
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/nBitMux_2to1 Schematic"}
			\caption{nBitMux 2to1 Schematic} 
			\label{fig:nBitMux-2to1-Schematic} 
		\end{figure}
	
	\subsection{LFSR}
	
	\subsection{MISR}
	
	
	
	\subsection{BIST}
	\begin{figure}[H] 
		\centering 
		\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/BIST-Test-Bench"}
		\caption{BIST Test Bench} 
		\label{fig:BIST-Test-Bench} 
	\end{figure}
	
	\subsection{Schematic}
	
	
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 1"}
			\caption{Full Schematic Page 1} 
			\label{fig:Full-Schematic-Page-1} 
		\end{figure}
	
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 2"}
			\caption{Full Schematic Page 2} 
			\label{fig:Full-Schematic-Page-2} 
		\end{figure}
	
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 3"}
			\caption{Full Schematic Page 3} 
			\label{fig:Full-Schematic-Page-3} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 4"}
			\caption{Full Schematic Page 4} 
			\label{fig:Full-Schematic-Page-4} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 5"}
			\caption{Full Schematic Page 5} 
			\label{fig:Full-Schematic-Page-5} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 6"}
			\caption{Full Schematic Page 6} 
			\label{fig:Full-Schematic-Page-6} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 7"}
			\caption{Full Schematic Page 7} 
			\label{fig:Full-Schematic-Page-7} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 8"}
			\caption{Full Schematic Page 8} 
			\label{fig:Full-Schematic-Page-8} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 9"}
			\caption{Full Schematic Page 9} 
			\label{fig:Full-Schematic-Page-9} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 10"}
			\caption{Full Schematic Page 10} 
			\label{fig:Full-Schematic-Page-10} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 11"}
			\caption{Full Schematic Page 11} 
			\label{fig:Full-Schematic-Page-11} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 12"}
			\caption{Full Schematic Page 12} 
			\label{fig:Full-Schematic-Page-12} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 13"}
			\caption{Full Schematic Page 13} 
			\label{fig:Full-Schematic-Page-13} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 14"}
			\caption{Full Schematic Page 14} 
			\label{fig:Full-Schematic-Page-14} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 15"}
			\caption{Full Schematic Page 15} 
			\label{fig:Full-Schematic-Page-15} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 16"}
			\caption{Full Schematic Page 16} 
			\label{fig:Full-Schematic-Page-16} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 17"}
			\caption{Full Schematic Page 17} 
			\label{fig:Full-Schematic-Page-17} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 18"}
			\caption{Full Schematic Page 18} 
			\label{fig:Full-Schematic-Page-18} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 19"}
			\caption{Full Schematic Page 19} 
			\label{fig:Full-Schematic-Page-19} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 20"}
			\caption{Full Schematic Page 20} 
			\label{fig:Full-Schematic-Page-20} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 21"}
			\caption{Full Schematic Page 21} 
			\label{fig:Full-Schematic-Page-21} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 22"}
			\caption{Full Schematic Page 22} 
			\label{fig:Full-Schematic-Page-22} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 23"}
			\caption{Full Schematic Page 23} 
			\label{fig:Full-Schematic-Page-23} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 24"}
			\caption{Full Schematic Page 24} 
			\label{fig:Full-Schematic-Page-24} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 25"}
			\caption{Full Schematic Page 25} 
			\label{fig:Full-Schematic-Page-25} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 26"}
			\caption{Full Schematic Page 26} 
			\label{fig:Full-Schematic-Page-26} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 27"}
			\caption{Full Schematic Page 27} 
			\label{fig:Full-Schematic-Page-27} 
		\end{figure}
		
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Schematic Page 28"}
			\caption{Full Schematic Page 28} 
			\label{fig:Full-Schematic-Page-28} 
		\end{figure}
		
		

		
		
		

\section{Results and Analysis}
		
	The MAC was initially laid out structurally; components were laid out and turned into cells that would then be connected together. This was done to limit the complexity of the final design. 
	
	\subsection{Full Adder}
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Adder Layout"}
			\caption{Full Adder Layout} 
			\label{fig:Full-Adder-Layout} 
		\end{figure}
	
	\subsection{Multiplier}
	
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Multiplier Layout"}
			\caption{Multiplier Layout} 
			\label{fig:Multiplier-Layout} 
		\end{figure}
	
	\subsection{16-Bit Register}
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/nBitRegister 16-Bit Layout"}
			\caption{nBitRegister 16 Bit Layout} 
			\label{fig:nBitRegister-16-Bit-Layout} 
		\end{figure}
	
	
	\subsection{32-Bit Register}
	
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/nBitRegister 32-Bit Layout"}
			\caption{nBitRegister 32 Bit Layout} 
			\label{fig:nBitRegister-32-Bit-Layout} 
		\end{figure}
	
	\subsection{Mux}
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/nBitMux_2to1 Layout"}
			\caption{nBitMux 2to1 Layout} 
			\label{fig:nBitMux-2to1-Layout} 
		\end{figure}
	
	
	
	
	
		
	\subsection{MAC with BIST Layout}
	
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Pre-Layout"}
			\caption{Pre-Layout} 
			\label{fig:Pre-Layout} 
		\end{figure}
	
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Std Cells"}
			\caption{Standard Cells Placement} 
			\label{fig:Std-Cells} 
		\end{figure}
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Power Route"}
			\caption{Power Route} 
			\label{fig:Power-Route} 
		\end{figure}
		
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Layout"}
			\caption{Full Layout} 
			\label{fig:Full-Layout} 
		\end{figure}
	
		\begin{figure}[H] 
			\centering 
			\includegraphics[width=\textwidth,height=\dimexpr\textheight-4\baselineskip-\abovecaptionskip-\belowcaptionskip\relax,keepaspectratio]{"Pictures/Full Layout Close Up View"}
			\caption{Full Layout Close Up View} 
			\label{fig:Full-Layout-Close-Up-View} 
		\end{figure}
	
	\subsection{Power}
		Power was measured with an Eldo simulation based on the layout. To measure static power, the average power was measured while the circuit was not active but powered. The static power was measured to be 1.87nW and was recorded in Table \ref{tab:power}. 
		
		Dynamic power was measured by recording the maximum power measured while the circuit was changing as many transistors as possible. To activate as many transistor as possible, multiple, random inputs were supplied to the circuit for a long period of time (2000us). The maximum power was found to be 16.03mW, which was recorded in Table \ref{tab:power}.
		
		
		
		\begin{table}[H]
			\centering
			\caption{Simulated Power for MAC}
			\label{tab:power}
			\begin{tabular}{|cc|}
				\hline
				\textbf{}        & \textbf{Measured Power (W)} \\
				\hline
				\textbf{Static}  & 1.8787E-06           \\
				\textbf{Dynamic} & 1.6029E-02           \\ 
				\hline                     
			\end{tabular}
		\end{table}
	
		It is clear that for this circuit, dynamic power far exceeds the static power. This shows that arithmetic operations draw a lot of power. This is mostly due to their high activity factor and their high speed requirements.  

			

\section{Conclusion}




\section{Appendix}

	\subsection{VHDL}
	
		\lstinputlisting[caption={MAC tb VHDL }\label{lst:MAC-tb-vhd}]{"SourceCode/MAC_tb.vhd"}
		
		\lstinputlisting[caption={ProjectWrapper tb VHDL }\label{lst:ProjectWrapper-tb-vhd}]{"SourceCode/ProjectWrapper_tb.vhd"}
		
		\lstinputlisting[caption={FullAdder VHDL }\label{lst:FullAdder-vhd}]{"SourceCode/FullAdder.vhd"}
		
		\lstinputlisting[caption={FA 1bit VHDL }\label{lst:FA-1bit-vhd}]{"SourceCode/FA_1bit.vhd"}
		
		\lstinputlisting[caption={AND2 VHDL }\label{lst:AND2-vhd}]{"SourceCode/AND2.vhd"}
		
		\lstinputlisting[caption={nBitRegister VHDL }\label{lst:nBitRegister-vhd}]{"SourceCode/nBitRegister.vhd"}
		
		\lstinputlisting[caption={Shifter VHDL }\label{lst:Shifter-vhd}]{"SourceCode/Shifter.vhd"}
		
		\lstinputlisting[caption={TestController VHDL }\label{lst:TestController-vhd}]{"SourceCode/TestController.vhd"}
		
		\lstinputlisting[caption={Subtractor VHDL }\label{lst:Subtractor-vhd}]{"SourceCode/Subtractor.vhd"}
		
		\lstinputlisting[caption={Controller VHDL }\label{lst:Controller-vhd}]{"SourceCode/Controller.vhd"}
		
		\lstinputlisting[caption={ProjectWrapper VHDL }\label{lst:ProjectWrapper-vhd}]{"SourceCode/ProjectWrapper.vhd"}
		
		\lstinputlisting[caption={Counter VHDL }\label{lst:Counter-vhd}]{"SourceCode/Counter.vhd"}
		
		\lstinputlisting[caption={BIST tb VHDL }\label{lst:BIST-tb-vhd}]{"SourceCode/BIST_tb.vhd"}
		
		\lstinputlisting[caption={Multiplier VHDL }\label{lst:Multiplier-vhd}]{"SourceCode/Multiplier.vhd"}
		
		\lstinputlisting[caption={LFSR 32 4 VHDL }\label{lst:LFSR-32-4-vhd}]{"SourceCode/LFSR_32_4.vhd"}
		
		\lstinputlisting[caption={LFSR 8 4 VHDL }\label{lst:LFSR-8-4-vhd}]{"SourceCode/LFSR_8_4.vhd"}
		
		\lstinputlisting[caption={MAC VHDL }\label{lst:MAC-vhd}]{"SourceCode/MAC.vhd"}
		
		\lstinputlisting[caption={MISR 32 4 VHDL }\label{lst:MISR-32-4-vhd}]{"SourceCode/MISR_32_4.vhd"}
		
		\lstinputlisting[caption={nBitRegister tb VHDL }\label{lst:nBitRegister-tb-vhd}]{"SourceCode/nBitRegister_tb.vhd"}
		
		\lstinputlisting[caption={nBitAdder VHDL }\label{lst:nBitAdder-vhd}]{"SourceCode/nBitAdder.vhd"}
		
		\lstinputlisting[caption={nBitRegister 16 VHDL }\label{lst:nBitRegister-16-vhd}]{"SourceCode/nBitRegister_16.vhd"}
		
		\lstinputlisting[caption={MISR 8 4 VHDL }\label{lst:MISR-8-4-vhd}]{"SourceCode/MISR_8_4.vhd"}
		
		\lstinputlisting[caption={nBitMux 2to1 VHDL }\label{lst:nBitMux-2to1-vhd}]{"SourceCode/nBitMux_2to1.vhd"}
		
		\lstinputlisting[caption={ANDADD VHDL }\label{lst:ANDADD-vhd}]{"SourceCode/ANDADD.vhd"}
		
		\lstinputlisting[caption={Ripple Carry FA VHDL }\label{lst:Ripple-Carry-FA-vhd}]{"SourceCode/Ripple_Carry_FA.vhd"}
		
		\lstinputlisting[caption={nBitRegister 32 VHDL }\label{lst:nBitRegister-32-vhd}]{"SourceCode/nBitRegister_32.vhd"}
		
		\lstinputlisting[caption={ALU Wrapper VHDL }\label{lst:ALU-Wrapper-vhd}]{"SourceCode/ALU_Wrapper.vhd"}
		
		\lstinputlisting[caption={nBitAdderSubtractor 16Bit VHDL }\label{lst:nBitAdderSubtractor-16Bit-vhd}]{"SourceCode/nBitAdderSubtractor_16Bit.vhd"}
		
		\lstinputlisting[caption={ALU TESTBENCH VHDL }\label{lst:ALU-TESTBENCH-vhd}]{"SourceCode/ALU_TESTBENCH.vhd"}
		
		\lstinputlisting[caption={Logic Unit VHDL }\label{lst:Logic-Unit-vhd}]{"SourceCode/Logic_Unit.vhd"}
		

	\subsection{Leonardo Scripts}
		
		\lstinputlisting[caption={Multiplier Spectrum Script }\label{lst:Multiplier-script}]{"LeonardoScripts/Multiplier.script"}
		
		\lstinputlisting[caption={LFSR 32 4 Spectrum Script }\label{lst:LFSR-32-4-script}]{"LeonardoScripts/LFSR_32_4.script"}
		
		\lstinputlisting[caption={MISR 32 4 Spectrum Script }\label{lst:MISR-32-4-script}]{"LeonardoScripts/MISR_32_4.script"}
		
		\lstinputlisting[caption={ProjectWrapper Spectrum Script }\label{lst:ProjectWrapper-script}]{"LeonardoScripts/ProjectWrapper.script"}
		
		\lstinputlisting[caption={nBitAdder Spectrum Script }\label{lst:nBitAdder-script}]{"LeonardoScripts/nBitAdder.script"}
		
		\lstinputlisting[caption={nBitAdderSubtractor Spectrum Script }\label{lst:nBitAdderSubtractor-script}]{"LeonardoScripts/nBitAdderSubtractor.script"}
		
		\lstinputlisting[caption={MAC BIST Spectrum Script }\label{lst:MAC-BIST-script}]{"LeonardoScripts/MAC-BIST.script"}
		
		\lstinputlisting[caption={nBitRegister 16 Spectrum Script }\label{lst:nBitRegister-16-script}]{"LeonardoScripts/nBitRegister_16.script"}
		
		\lstinputlisting[caption={MAC Spectrum Script }\label{lst:MAC-script}]{"LeonardoScripts/MAC.script"}
		
		\lstinputlisting[caption={nBitMux 2to1 Spectrum Script }\label{lst:nBitMux-2to1-script}]{"LeonardoScripts/nBitMux_2to1.script"}
		
		\lstinputlisting[caption={nBitRegister 32 Spectrum Script }\label{lst:nBitRegister-32-script}]{"LeonardoScripts/nBitRegister_32.script"}
		
		\lstinputlisting[caption={MAC (copy) Spectrum Script }\label{lst:MAC-(copy)-script}]{"LeonardoScripts/MAC (copy).script"}
		
		
		
	\subsection{Layout Versus Schematic Results}
	
		\lstinputlisting[caption={MAC with BIST LVS Results}\label{lst:lvs}]{"LVS/lvs.report"}
		
	\subsection{SPICE}
	
		\lstinputlisting[caption={layout test SPICE }\label{lst:layout-test-spice}]{"Spice/layout_test.cir"}
		
		\lstinputlisting[caption={power test SPICE }\label{lst:power-test-spice}]{"Spice/power_test.cir"}
		
		

		
\section{References}

	Key, Brandon A. \textit{CMPE 260 Laboratory Exercise 3 Arithmetic Logic Unit}. CMPE 260 Laboratory Exercise 3 Arithmetic Logic Unit.
	
	//TODO add BIST from DSD II
	//TODO Added Chris's DSD II lab

\end{document}
